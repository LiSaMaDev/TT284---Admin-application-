<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Event Form</title>
    <link rel="stylesheet" href="q2a.css">
</head>
<body>
    <header>
        <h3>Sullivan Dolores</h3>
        <h1>Administration application's board</h1>
        <button id="logout">Log out</button>
    </header>
    <main>
        <h2>New event</h2>
        <form method="POST" action="https://students.open.ac.uk/mct/tt284/reflect/reflect.php">
            <div class="form-group">
                <label for="name">Name*</label>
                <input type="text" id="name" name="name" required>
            </div>
            
            <div class="form-group">
            <label for="type">Type*</label>
            <select id="type" name="type" required>
                <option value="">Select Type</option>
                <option value="Ride_event">Ride event</option>
                <option value="Other_event">Other event</option>
            </select>
            <span class="focus"></span>
            </div>
            
            <div class="form-group">
            <label for="date">Date*</label>
            <input type="datetime-local" id="date" name="date" required>
            </div>

            <div class="form-group">
            <label for="duration">Duration (in hours)*</label>
            <input type="number" id="duration" name="duration" min="0" step="0.1" required>
            </div>
            
            <div class="form-group">
            <label for="meeting-point">Meeting point*</label>
            <input type="text" id="meeting-point" name="meeting_point" required>
            </div>
            
            <div class="form-group">
            <label for="distance">Distance (in KM)</label>
            <input type="number" id="distance" name="distance" step="0.1">
            </div>
            
            <div class="form-group">
            <label for="elevation">Elevation (in m)</label>
            <input type="number" id="elevation" name="elevation" step="0.1">
            </div>

            <div class="form-group">
            <label for="max-group-size">Maximum group size</label>
            <input type="number" id="max-group-size" name="max_group_size">
            </div>
            
            <div class="form-group">
            <label for="leader-name">Name of the leader</label>
            <input type="text" id="leader-name" name="leader_name">
            </div>
            
            <div class="form-group">
            <label for="contact-number">Contact number</label>
            <input type="tel" id="contact-number" name="contact_number">
            </div>
            
            <div class="form-group">
            <label for="alternative-number">Alternative number</label>
            <input type="tel" id="alternative-number" name="alternative_number">
            <div class="form-group">

            </div>
            <label for="status">Status</label>
            <select id="status" name="status">
                <option value="Proposed">Planned</option>
                <option value="Approved">Confirmed</option>
                <option value="Rejected">Completed</option>
            </select>
            </div>
            
            <div class="form-group">
            <label for="comment">Comment</label>
            <textarea id="comment" name="comment" rows="4"></textarea>
            </div>
            
            <div class="form-group">
            <input type="hidden" name="SessionIdentifier" value="ff53-dd45-dcba9876-9090">
            </div>
            
            <div class="form-buttons">
                <button type="submit">Create</button>
                <button type="button">Cancel</button>
            </div>
        </form>

        <script>
            document.addEventListener("DOMContentLoaded", function() {
            const typeField = document.getElementById("type");
            const formFields = document.querySelectorAll("input, select, textarea");
            
            const updateFields = () => {
                const typeValue = typeField.value;
                formFields.forEach(field => {
                    if (field.id === "name" || field.id === "type") {
                        field.disabled = false;
                    } else if (typeValue === "Ride_event") {
                        field.disabled = false;
                    } else if (typeValue === "Other_event") {
                        if (["date", "duration", "meeting-point"].includes(field.id)) {
                            field.disabled = false;
                        } else {
                            field.disabled = true;
                        }
                    } else {
                        field.disabled = true;
                    }
                });
            };

            typeField.addEventListener("change", updateFields);
            updateFields(); // Initial call to set the correct fields on page load
        });

        </script>
    </main>
</body>
</html>
